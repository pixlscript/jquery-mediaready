/*! mediaready - v1.0.0 - 2014-01-11
* https://github.com/pixlscript/jquery-mediaready
* Copyright (c) 2014 Severin GlÃ¶ckle, pixlscript GbR; Licensed MIT */
!function(a,b){"use strict";a.mediaReady=function(){var c={activeMedias:[],currentWidth:null,init:function(c){this.options=a.extend({},a.mediaReady.options,c),this.medias=a.merge(a.merge([],this.options.breakpoints),this.options.medias),this.$window=a(b),this.$mediator=this.options.mediator,this.$body=a(this.options.body),this.calculate(),this.options.appendClasses&&(this.allClassnames=d.buildClassNames(this.medias),this.appendClasses()),this.options.resize&&this.bindToResize()},calculate:function(c){var d=this;this.currentWidth=Math.max(b.innerWidth||this.$window.width()),this.currentMedias=this.activeMedias,this.activeMedias=[],a.each(this.medias,function(b,e){(!c||e.onResize)&&a.isFunction(e.check)&&e.check()?d.addActiveMedia(e):d.currentWidth>=e.min&&d.currentWidth<=e.max&&d.addActiveMedia(e)})},addActiveMedia:function(b){this.activeMedias.push(b.name),this.options.events&&-1===a.inArray(b.name,this.currentMedias)&&this.publishMediaRady(b)},appendClasses:function(){this.$body.removeClass(this.allClassnames).addClass(this.activeMedias.join(" "))},checkMedias:function(b,c){var e=this,f=!1;return b=d.assureArray(b),a.each(b,function(a,b){return!c&&e.isActiveMedia(b)?(f=!0,!1):(c&&!e.isActiveMedia(b)&&(f+=1),void 0)}),!c&&f||c&&f===b.length},bindToResize:function(){var a=this,b=null;this.$window.on("resize.mediaReady",function(){b&&clearTimeout(b),b=setTimeout(function(){a.onResize()},a.options.resize.debouncedInterval)})},onResize:function(){this.calculate(!0),this.options.appendClasses&&this.appendClasses()},publishMediaRady:function(a){this.$mediator.triggerHandler({type:"mediaReady."+a.name,media:a,width:this.currentWidth}),this.$mediator.triggerHandler({type:"mediaReady.all",media:a,width:this.currentWidth})},addListener:function(a,b,c){var e=this;if(a=d.assureArray(a),c)var f=b,b=function(){f.call(),e.$mediator.off(d.buildEventNames(a),b)};e.$mediator.on(d.buildEventNames(a),b)},removeListener:function(a,b){a=d.assureArray(a),this.$mediator.off(d.buildEventNames(a),b)},isActiveMedia:function(b){return-1!==a.inArray(b,this.activeMedias)}},d={assureArray:function(b){return a.isArray(b)?b:[b]},buildEventNames:function(a){return"mediaReady."+a.join(" mediaReady.")},buildClassNames:function(b){return a.map(b,function(a){return a.name}).join(" ")}};return{init:function(a){c.init(a)},ready:function(a,b){c.checkMedias(a)&&b.call()},besides:function(a,b){c.checkMedias(a,!0)&&b.call()},on:function(a,b,d){d!==!1&&this.ready(a,b),c.addListener(a,b)},once:function(a,b){c.checkMedias(a)?b.call():c.addListener(a,b,!0)},off:function(a,b){c.removeListener(a,b)}}}(),a.mediaReady.options={body:"body",mediator:a({}),appendClasses:!0,events:!0,resize:{debouncedInterval:300},breakpoints:[{min:1,max:480,name:"xss"},{min:481,max:767,name:"xs"},{min:768,max:991,name:"sm"},{min:992,max:1199,name:"md"},{min:1200,max:9999,name:"lg"}],medias:[{check:function(){return"ontouchstart"in b},name:"touch"}]}}(jQuery,window);